# ============================================
# VinClub Environment Variables Template
# ============================================
# Copy this file to .env.server and fill in your values
# DO NOT commit .env.server to version control
# ============================================

# ============================================
# REQUIRED: Core Configuration
# ============================================

# Database Configuration (Required)
# PostgreSQL connection string for the application database
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# For local development with Wasp: postgresql://postgresWaspDevUser:postgresWaspDevPass@localhost:5432/OpenSaaS-{projectId}
# Run 'wasp start db' to start the local database container
# For production: Use your production PostgreSQL connection string
# DATABASE_URL=postgresql://postgresWaspDevUser:postgresWaspDevPass@localhost:5432/OpenSaaS-{projectId}
# IMPORTANT: For local development, leave DATABASE_URL commented out.
# Wasp will automatically manage the database when you run "wasp start db".
# Only uncomment DATABASE_URL if you want to use a custom/external database.
# IMPORTANT: For local development, leave DATABASE_URL commented out.
# Wasp will automatically manage the database when you run "wasp start db".
# Only uncomment DATABASE_URL if you want to use a custom/external database.
#
# IMPORTANT: For local development, leave DATABASE_URL commented out.
# Wasp will automatically manage the database when you run "wasp start db".
# Only uncomment DATABASE_URL if you want to use a custom/external database.

# JWT Secret (Required)
# Secure random string used to sign and verify JWT tokens (minimum 32 characters)
# Generate with: openssl rand -base64 32 | tr -d "=+/" | cut -c1-32
# IMPORTANT: Use a strong, unique secret in production
JWT_SECRET=your-secure-random-string-here-minimum-32-characters

# Wasp Server URLs (Required)
# URL where the web client is accessible
# Development: http://localhost:3000
# Production (Fly.io + vinclub.fr): https://vinclub.fr
WASP_WEB_CLIENT_URL=http://localhost:3000

# URL where the server API is accessible
# Development: http://localhost:3001
# Production (Fly.io default): https://vinclub-server.fly.dev
# Production (custom API domain): https://api.vinclub.fr
WASP_SERVER_URL=http://localhost:3001

# ============================================
# OPTIONAL: Payment Integration
# ============================================

# --- Stripe Configuration ---
# Required for Stripe payment processing
# Get your API keys from: https://dashboard.stripe.com/apikeys
# Webhook secret from: https://dashboard.stripe.com/webhooks

# STRIPE_API_KEY=sk_test_... (test) or sk_live_... (production)
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_CUSTOMER_PORTAL_URL=https://billing.stripe.com/p/session/...

# --- Lemon Squeezy Configuration (Alternative) ---
# Use if you prefer Lemon Squeezy over Stripe
# LEMONSQUEEZY_API_KEY=...
# LEMONSQUEEZY_WEBHOOK_SECRET=...
# LEMONSQUEEZY_STORE_ID=...

# --- Payment Plan IDs ---
# If using specific subscription plan IDs
# PAYMENTS_HOBBY_SUBSCRIPTION_PLAN_ID=...
# PAYMENTS_PRO_SUBSCRIPTION_PLAN_ID=...
# PAYMENTS_CREDITS_10_PLAN_ID=...

# ============================================
# OPTIONAL: AWS S3 Configuration
# ============================================
# Required for file upload functionality
# 1. Create an S3 bucket
# 2. Create an IAM user with S3 read/write permissions
# 3. Get access key and secret key from IAM user credentials

# AWS S3 Region (e.g., us-east-1, eu-west-1, eu-central-1)
# AWS_S3_REGION=us-east-1

# AWS IAM Access Key ID
# AWS_S3_IAM_ACCESS_KEY=AKIA...

# AWS IAM Secret Access Key
# AWS_S3_IAM_SECRET_KEY=...

# AWS S3 Bucket Name for file uploads
# AWS_S3_FILES_BUCKET=your-bucket-name

# Optional: CDN Base URL for serving files (if using CloudFront or similar)
# CDN_BASE_URL=https://cdn.example.com

# ============================================
# OPTIONAL: Twilio SMS Integration
# ============================================
# Required for SMS campaign functionality
# Sign up at: https://www.twilio.com/
# Documentation: https://www.twilio.com/docs/sms

# Twilio Account SID (find in Twilio Console)
# TWILIO_ACCOUNT_SID=AC...

# Twilio Auth Token (find in Twilio Console)
# TWILIO_AUTH_TOKEN=...

# Twilio Phone Number (format: +1234567890)
# Purchase a number at: https://www.twilio.com/phone-numbers
# TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# OPTIONAL: Brevo Email Integration
# ============================================
# Required for email campaign functionality
# Sign up at: https://www.brevo.com/ (formerly Sendinblue)
# Documentation: https://developers.brevo.com/

# Brevo API Key (get from: https://app.brevo.com/settings/keys/api)
# BREVO_API_KEY=xkeysib-...

# Brevo Sender Email Address
# Must be a verified sender in your Brevo account
# BREVO_SENDER_EMAIL=noreply@yourdomain.com

# ============================================
# OPTIONAL: Analytics
# ============================================

# --- Plausible Analytics (Privacy-friendly) ---
# Sign up at: https://plausible.io/
# PLAUSIBLE_API_KEY=...
# PLAUSIBLE_SITE_ID=your-site-id
# PLAUSIBLE_BASE_URL=https://plausible.io

# --- Google Analytics ---
# Set up Service Account and enable Google Analytics API
# GOOGLE_ANALYTICS_CLIENT_EMAIL=service-account@project.iam.gserviceaccount.com
# GOOGLE_ANALYTICS_PRIVATE_KEY=... (base64 encoded private key)
# GOOGLE_ANALYTICS_PROPERTY_ID=...

# ============================================
# OPTIONAL: Redis Cache
# ============================================
# Improves performance with Redis caching
# Can use local Redis or cloud providers (Redis Cloud, Upstash, etc.)

# Redis Connection URL
# Local: redis://localhost:6379
# With password: redis://:password@host:port
# Redis Cloud: redis://:password@host:port
# REDIS_URL=redis://localhost:6379

# ============================================
# OPTIONAL: Admin Configuration
# ============================================

# Admin Emails
# Comma-separated list of email addresses that should have admin access on signup
# Example: ADMIN_EMAILS=admin@example.com,superuser@example.com
# ADMIN_EMAILS=admin@example.com

# ============================================
# Feature Matrix
# ============================================
# Use this guide to determine which variables you need:
#
# Core Features (Always Required):
#   - DATABASE_URL
#   - JWT_SECRET
#   - WASP_WEB_CLIENT_URL
#   - WASP_SERVER_URL
#
# Payment Processing:
#   - STRIPE_API_KEY, STRIPE_WEBHOOK_SECRET (or Lemon Squeezy equivalents)
#
# File Uploads:
#   - AWS_S3_REGION, AWS_S3_IAM_ACCESS_KEY, AWS_S3_IAM_SECRET_KEY, AWS_S3_FILES_BUCKET
#
# SMS Campaigns:
#   - TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN, TWILIO_PHONE_NUMBER
#
# Email Campaigns:
#   - BREVO_API_KEY, BREVO_SENDER_EMAIL
#
# Analytics:
#   - PLAUSIBLE_* or GOOGLE_ANALYTICS_* (optional, for tracking)
#
# Performance:
#   - REDIS_URL (optional, improves caching performance)
